<!--
  Generated template for the JournalPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Journal</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <ion-card>
    <ion-navbar color='primary'>
      <ion-title>
        My journal
      </ion-title>
      <ion-buttons end>
        <button ion-button icon-only (click)='addSnapshot()'>
          <ion-icon name='add'></ion-icon>
        </button>
      </ion-buttons>
    </ion-navbar>


    <ion-card-content>

      <ion-grid>
        <ion-row>
          <ion-item col-2>
            <ion-label>Start Time</ion-label>
            <ion-datetime displayFormat="DD MMM YYYY h:mm A" pickerFormat="DD MMM YYYY h mm A" [(ngModel)]="timeStart" (ionChange)='changedFilter()'>Start Time</ion-datetime>
          </ion-item>

          <ion-item col-4 >
            <ion-title text-center>Filter your journal</ion-title>
          </ion-item>

          <ion-item col-2>
            <ion-label>End Time</ion-label>
            <ion-datetime displayFormat="DD MMM YYYY h:mm A" pickerFormat="DD MMM YYYY h mm A" [(ngModel)]="timeEnd" (ionChange)='changedFilter()'></ion-datetime>
          </ion-item>
        </ion-row>

        <ion-row *ngFor='let snapshot of snapshots'>
            <ion-col col-2>
              <ion-row>
                <ion-col>
                  <ion-row justify-content-center>
                    {{ convertDate(snapshot.timestamp).split('|')[0] }}
                  </ion-row>

                  <ion-row justify-content-center>
                    {{ convertDate(snapshot.timestamp).split('|')[1] }}
                  </ion-row>
                </ion-col>
              </ion-row>
            </ion-col>
            <ion-col>
              <div [innerHTML]=snapshot.text></div>


            </ion-col>

            <ion-col>
              <ion-row justify-content-center>{{snapshot.rewardedTP}} TP</ion-row>
              <ion-row justify-content-center>{{snapshot.rewardedFP}} FP</ion-row>
              <ion-row justify-content-center>{{snapshot.rewardedMoney}} Money</ion-row>
            </ion-col>


            <ion-col>
              <ion-row justify-content-center>{{snapshot.category}}</ion-row>
            </ion-col>
        </ion-row>
      </ion-grid>
    </ion-card-content>

  </ion-card>
</ion-content>
